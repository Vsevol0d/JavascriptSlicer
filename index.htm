<html>
	<head>
		<link rel="stylesheet" type="text/css" href="New_Styles.css">
		
		<script src="Third_Party/three.min.js"></script>
		<script src="Third_Party/THREEx.WindowResize.js"></script>
		<script src="Third_Party/OrbitControls.js"></script>
		<script src="Third_Party/Stats.min.js"></script>
		<script src="Third_Party/paper-full.min.js"></script>
		<script src="Third_Party/jquery-3.5.1.min.js"></script> 
		<script src="Third_Party/jquery-resizable.js"></script> 
		
		<script src="ArrayExtensions.js"></script>
		<script src="STLLoader.js"></script>
		<script src="SceneManager.js"></script>
		<script src="Slicer.js"></script>
		<script src="SliceViewer.js"></script>
		
		<script>
    $(function(){
		/*
		var xmlHttp = new XMLHttpRequest();
		// xmlHttp.open( "GET", "https://cdn.thingiverse.com/renders/08/38/26/68/27/ab7b8fe9aad3769051dd94fa7434b742_thumb_medium.jpg", false ); // false for synchronous request
		xmlHttp.open( "GET", "{/search/Minimug/}", false);
		xmlHttp.send( null );
		alert(xmlHttp.responseText);
		*/
    });
    </script>
	</head>
	<body>
	
	<!-- Help container for loading local and saved models -->
	<!-- <div id="includedContent" style="display: none"></div> -->
	<div id="includedContent"></div>

	<!-- Main viewer table-->
	<table id="MainTable">
	
		<!-- First row with searching TextBox and buttons -->
		<tr>
			<table id="HeaderTable" class="search_controls_table">
				<td>
					
					<div class="file_upload">
					<button type="button" style='border-radius: 5px 0 0 5px;' class='grey_btn curved_button' onclick="triggerFileInput()" 
					style="vertical-align: middle" data-toggle="tooltip" data-placement="bottom" title="Open .stl model file">
						<img src="open-model-icon.png" width='25' height='25' alt="LOAD" style="vertical-align: middle">
					</button>
					
					</div>
				</td>
				<td>
					<div class="dropdown">
						<input id="fileNameTextBox" 
							style="vertical-align: middle; height: 39px; margin: 0 0 0 -1px; padding: 5px 5px;
								box-shadow: inset 1px 1px 4px -1px #9C9C9C, 2px 2px 3px  #1F1F1F;
								font-family: 'Poiret One', cursive; font-size: 12px" 
							class='text_input text_input_colors' type='text' placeholder="No file selected" readonly/>
						<button type="button" onclick="expandModelItemsList()"
							style="vertical-align: middle; height: 39px; margin: 0 0 0 1px; border-radius: 0 5px 5px 0;
								float: right" class="drop_down_button grey_btn curved_button">
								<img src="drop-down-icon.png" width='15' height='15' alt="EXPAND" style="vertical-align: middle; margin: 0 0 0 -4px;">
						</button>
						<div id="objectModelsDropDownList" style="opacity: 0.9; border-radius: 0 0 5px 5px; margin: 0 0 0 -1px; width: 300px" 
							class="dropdown-content text_input_colors">
							<!-- <p>Recent models</p> -->
							<p style="background-color: #555555; margin: 0 0 0 0">Recent models</p>
							<div class='box' style="height:1px;width:100%;background:#888888;"></div>
							<p style="background-color: #555555; margin: 0 0 0 0">Sample models</p>
							<div class='box' style="height:1px;width:100%;background:#888888;"></div>
							<a href="#">Bunny-LowPoly.stl</a>
							<a href="#">Couvercle.stl</a>
							<a href="#">Dodecaeder_for_Dual_Extrusion_1.stl</a>
							<a href="#">FiboBall_square.stl</a>
							<a href="#">Finn_Sword_3.stl</a>
							<a href="#">gear.stl</a>
							<a href="#">Minimug.stl</a>
							<a href="#">Pentagon_Star.stl</a>
							<a href="#">piano.stl</a>
							<a href="#">sink_plug-v04-pin.stl</a>
							<a href="#">sink_plug-v05-plug.stl</a>
							<a href="#">ThreadGaugeConeSAE.stl</a>
						</div>
					</div>
				</td>
			</table>
			<input type="file" id="files" name="files[]" accept=".stl" style="visibility: hidden">
		</tr>
	
		<!-- Second row with Slice and Model viewers -->
		<tr>
			<div id="ViewTable" class='panel-container viewer_window'>
						
				<!-- Slice viewer -->
				<div id="SliceViewer" class="tableCell2 panel-left">
								
					<div class='checkboxes_group' title='Show slice vertices' style='margin: -5px 0 0 -5px'>
						<input type="checkbox" id="ShowPointsCheckbox" class="input-hidden"/>
						<label for="ShowPointsCheckbox" class='controls_hover'>
							<img src="points-icon.png" alt="Show slice vertices" />
						</label>
					</div>
					<div class='box checkboxes_group' title='Show slice edge lines' style='margin: 25px 0 0 -5px'>
						<input type="checkbox" id="ShowLinesCheckbox" class="input-hidden"/>
						<label for="ShowLinesCheckbox" class='controls_hover'>
							<img src="lines-icon.png" alt="Show slice edge lines" />
						</label>
					</div>
					<div class='box checkboxes_group' title='Show model sliced areas' style='margin: 55px 0 0 -5px'>
						<input type="checkbox" id="ShowContoursCheckbox" class="input-hidden"/>
						<label for="ShowContoursCheckbox" class='controls_hover'>
							<img src="contours-icon.png" alt="Show model sliced areas" />
						</label>
					</div>
					<div style="width: 20px; float: right; position: relative; height: 100%;
								margin: -10px -10px -10px 0; background-color: transparent;">
					<input id="cutPlaneNumberSlider" type='range' class='slider vertical-slider' value='1' min='0' max='1' step='1'
							style="width: 300px; float: right; position: relative; transform: rotate(270deg) scaleX(30); 
								background-color: #eeeeee80; margin: 290px 0px 0 0" 
								oninput="sliderChangeCurrentSelectedSlice(this.value)" />
					</div>
					<canvas id="main_canvas_sliceview" style="
						height: 100%; width: 100%;
						border: thin inset grey /darkgray;" class="interactive_canvas"></canvas>
				</div>
							
				<div class="splitter"></div>
						
				<!-- Model viewer -->
				<div id="td_canvas" class="tableCell2 panel-right">
					<canvas id="main_canvas_objectview" style="margin-top: -10px; margin-left: -10px;
						width: 100%; height: 100%;" class="interactive_canvas"></canvas>
					<div class='radiobuttons_group' title='Rotate camera' style='margin: -5px 0 0 -5px'>
						<input type="radio" name='e'
							id="RotateСameraRadioButton" class="input-hidden" />
						<label for="RotateСameraRadioButton" class='controls_hover'>
						<img src="axis_pivot_camera_view_rotate_icon.png" alt="Rotate camera" />
						</label>
					</div>
					<div class='radiobuttons_group' title='Rotate model' style='margin: 35px 0 0 -5px'>
						<input type="radio" name='e'
						id="RotateObjectRadioButton" class="input-hidden" />
						<label for="RotateObjectRadioButton" class='controls_hover'>
							<img src="axis_pivot_object_view_rotate_icon.png" alt="Rotate object" />
						</label>
					</div>	
				</div>
			</div>
		</tr>
		
		<!-- Third row with Controls for each viewer -->
		<tr>
		<table style="width: 100%;margin: 5px 0 0 0">
		<tr>
			<!-- Controls for Slice viewer -->
			<td width='50%'>
			<!-- https://codepen.io/ankeet/pen/EEGoNx -->
				<div class='wrapper' style='margin: 0 0 0 290px; background:#666666p;'>
					<button id="printButton" type="button" class='box grey_btn curved_button'
						onclick="printButtonClicked()" data-toggle="tooltip" data-placement="bottom" title="Print model">
						<img src="3d-printer-icon.png" width='40' height='40' alt="PRINT" style='margin: -7px -7px -7px -7px'>
					</button>
					
					<!-- Print modal window -->
					<div id="myModal" class="modal">

					  <!-- Modal content -->
					  <div class="modal-content">
						<div class="modal-header">
						  <span class="close">&times;</span>
						  <h2>Print options</h2>
						</div>
						<div class="modal-body">
						  <p>This view is under construction</p>
						</div>
					  </div>

					</div>
					<!-- <div class='box' style="width:2px;height:40px;background:#303030;margin: 0 0 0 10px"></div> -->
				</div>
			</td>
			
			<!-- Controls for Model viewer -->
			<td width='50%'>
				<div class='centeringDiv' style='margin: 0 0 0 165px'>
					<button id="sliceButton" type="button" class='box grey_btn curved_button'
						onclick="sliceButtonClicked()" data-toggle="tooltip" data-placement="bottom" title="Slice model">
						<img src="layers_icon111_small.png" alt="SLICE" style="vertical-align: middle">
					</button>
					<div style="margin: 1px 0 0 5px;">
						<div class='div_double_range'>
							<div class='div_double_range' style="margin: -5px -5px -5px -5px;">
								<p class='p_in_range' style='margin: 0 0 0 50px;'>Model height(mm)</p>
								<input id="modelHeightSlider" type='range' class='slider' value='1' min='1' max='100' step='1' oninput="sliderChangeModelHeight(this.value)"/>
								<input id="modelHeightTextBox" type='text' onchange="textBoxChangeModelHeight(this.value)" class='text_input text_input_colors' style="width: 40px;"/>
							</div>
						</div>
						<div class='div_double_range'>
							<div class='div_double_range' style="margin: -5px -5px -5px -5px;">
								<p class='p_in_range' style='margin: 0 0 0 52px;'>Slice height(mm)</p>
								<input id="stepSlider" type='range' class='slider' value='0.01' min='0.01' max='1' step='0.01' oninput="sliderChangeStep(this.value)"/>
								<input id="stepTextBox" type='text' onchange="textBoxChangeStep(this.value)" class='text_input text_input_colors' style="width: 40px;"/>
							</div>
						</div>
					</div>
				</div>
			</td>
			</tr>
		</table>
	</tr>
	
</table>


<script src="Main.js"></script>
	</body>
</html>